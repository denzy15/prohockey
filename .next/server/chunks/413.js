exports.id=413,exports.ids=[413],exports.modules={5037:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});var a=r(20997),s=r(55278),n=r(46979),i=r(80883),l=r(60531),o=r(89404),c=r.n(o),d=r(3828),h=r.n(d),x=r(34224),u=r.n(x),p=r(87717),m=r.n(p),j=r(74358),y=r.n(j),g=r(14810),f=r.n(g),v=r(81795),w=r.n(v),b=r(11163);r(16689);let C=[{title:"Главная",path:"/admin",icon:a.jsx(s.Z,{})},{title:"Товары",path:"/admin/products",icon:a.jsx(n.Z,{})},{title:"Категории товаров",path:"/admin/categories",icon:a.jsx(i.Z,{})},{title:"Заказы",path:"/admin/orders",icon:a.jsx(l.Z,{})}],Z=()=>{let e=(0,b.useRouter)();return(0,a.jsxs)(c(),{sx:{p:1},children:[a.jsx(h(),{children:"ProHockey"}),a.jsx(h(),{children:"Админ панель"}),a.jsx(u(),{}),a.jsx(m(),{sx:{width:"100%",bgcolor:"background.paper"},component:"nav","aria-labelledby":"nested-list-subheader",children:C.map((t,r)=>(0,a.jsxs)(y(),{onClick:()=>e.push(t.path),children:[a.jsx(f(),{children:t.icon}),a.jsx(w(),{primary:t.title})]},r))})]})}},18813:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>g});var s=r(20997);r(16689);var n=r(4208),i=r.n(n),l=r(41470),o=r.n(l),c=r(3828),d=r.n(c),h=r(11163),x=r(26179),u=r.n(x),p=r(91773),m=r(37290),j=r(94144),y=e([p]);p=(y.then?(await y)():y)[0];let g=()=>{let e=(0,h.useRouter)().asPath.split("/").filter(e=>e),t=(e,t)=>1===t?(0,j.Qo)(e):decodeURIComponent(e.split("?")[0]).replace(/%20/g," ");return e.length?(0,s.jsxs)(i(),{separator:s.jsx(u(),{fontSize:"small"}),"aria-label":"breadcrumb",sx:{my:1},children:[s.jsx(o(),{color:"inherit",href:"/",children:s.jsx(d(),{sx:{textDecoration:"underline",color:"gray"},children:"Главная"})}),e.map((r,a)=>{let n=a===e.length-1,i=`/${e.slice(0,a+1).join("/")}`,l=m.mw[r]||t(r,a);return n?s.jsx(d(),{color:"background.paper",children:l},i):s.jsx(o(),{href:i,children:s.jsx(d(),{sx:{textDecoration:"underline",color:"gray"},children:l})},i)})]}):null};a()}catch(e){a(e)}})},56586:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var a=r(20997);r(16689);var s=r(34552),n=r(31530),i=r(34638),l=r(80601),o=r.n(l),c=r(34224),d=r.n(c),h=r(3828),x=r.n(h);let u=({order:e,cartCounter:t,handleChangeCartCounter:r,isInCart:l})=>(0,a.jsxs)(i.ZP,{direction:"row",sx:{order:e||null,alignItems:"center",bgcolor:"primary.light",display:"inline-flex",borderRadius:2,border:"1px solid",borderColor:"primary.dark"},children:[a.jsx(o(),{color:"secondary",onClick:()=>r("remove"),disabled:l,children:a.jsx(s.Z,{sx:{fontSize:16}})}),a.jsx(d(),{orientation:"vertical",flexItem:!0,color:"primary.light"}),a.jsx(x(),{sx:{fontWeight:600,fontSize:16,px:1},children:t}),a.jsx(d(),{orientation:"vertical",flexItem:!0,color:"primary.light"}),a.jsx(o(),{disabled:l,onClick:()=>r("add"),color:"secondary",children:a.jsx(n.Z,{color:"black",sx:{fontSize:16}})})]})},46252:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var a=r(20997),s=r(37290),n=r(26337),i=r.n(n),l=r(28983),o=r.n(l),c=r(34638),d=r(3828),h=r.n(d),x=r(80601),u=r.n(x),p=r(41664),m=r.n(p);r(16689);let j=()=>a.jsx(i(),{sx:{bgcolor:"background.paper",color:"text.primary",py:2},children:(0,a.jsxs)(o(),{children:[(0,a.jsxs)(c.ZP,{sx:{display:"flex",gap:2,flexDirection:{md:"row",xs:"column"}},justifyContent:"space-between",children:[a.jsx(i(),{children:a.jsx(m(),{href:"/",children:a.jsx("img",{style:{width:"90px",height:"90px"},src:"/assets/logo.png",alt:"Logo"})})}),(0,a.jsxs)(i(),{sx:{textAlign:"center"},children:[a.jsx(h(),{variant:"h6",sx:{mb:1},children:"Контакты"}),a.jsx(h(),{variant:"body1",children:"+7 (775) 205-34-41"}),a.jsx(c.ZP,{direction:"row",spacing:1,sx:{mt:1,justifyContent:"center"},children:s.KT.map((e,t)=>a.jsx(u(),{component:"a",href:e.href,target:"_blank",rel:"noopener noreferrer",sx:{color:"inherit"},children:e.icon},t))})]}),(0,a.jsxs)(i(),{children:[a.jsx(h(),{variant:"h6",sx:{mb:1},children:"Адрес"}),a.jsx(h(),{variant:"body2",children:"г. Алматы, Казахстан"}),a.jsx(h(),{variant:"body2",children:"Проспект Абая, 216"})]})]}),a.jsx(i(),{sx:{py:1},children:(0,a.jsxs)(h(),{variant:"subtitle1",textAlign:"center",children:["\xa9 ",new Date().getFullYear()," ProHockey. All rights reserved."]})})]})})},32813:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>q});var s=r(20997),n=r(16689),i=r(50059),l=r.n(i),o=r(60253),c=r.n(o),d=r(26337),h=r.n(d),x=r(3828),u=r.n(x),p=r(80601),m=r.n(p),j=r(14245),y=r.n(j),g=r(9656),f=r.n(g),v=r(34638),w=r(34224),b=r.n(w),C=r(87717),Z=r.n(C),k=r(49366),P=r.n(k),S=r(74358),$=r.n(S),L=r(14810),W=r.n(L),I=r(81795),B=r.n(I),R=r(46979),D=r(77811),E=r(94998),z=r(51452),_=r(60531),A=r(12641),H=r(41664),O=r.n(H),J=r(11163),U=r(97939),N=e([U]);U=(N.then?(await N)():N)[0];let F=[{title:"Каталог",path:"/products",icon:R.Z},{title:"Доставка и оплата",path:"/delivery-payment",icon:D.Z},{title:"Контакты",path:"/contacts",icon:E.Z}],q=()=>{let e=(0,J.useRouter)(),{cart:t}=(0,U.jD)(),[r,a]=(0,n.useState)(!1),i=e=>t=>{("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&a(e)};return(0,s.jsxs)(l(),{position:"fixed",sx:{left:0,top:0,width:"100%"},children:[(0,s.jsxs)(c(),{sx:{zIndex:10,justifyContent:"space-between"},children:[s.jsx(O(),{href:"/",passHref:!0,children:s.jsx("img",{className:"app-logo",src:"/assets/logo.png",alt:"Logo"})}),s.jsx(h(),{sx:{display:{xs:"none",md:"flex"},flexGrow:1,justifyContent:"center"},children:F.map(t=>s.jsx(h(),{sx:{position:"relative",display:"inline-block",mx:2,"&:after":{content:'""',position:"absolute",width:"0",height:"2px",bgcolor:"white",transition:"0.3s"},"&:hover:after":{width:"100%"}},onClick:()=>e.push(`${t.path}`),children:s.jsx(u(),{variant:"h6",component:"div",sx:{cursor:"pointer"},children:t.title})},t.title))}),s.jsx(h(),{sx:{display:{xs:"flex",md:"none"}},children:s.jsx(m(),{color:"inherit",onClick:i(!0),children:s.jsx(z.Z,{})})}),s.jsx(h(),{sx:{display:{xs:"none",md:"block"}},children:s.jsx(O(),{href:"/cart",passHref:!0,children:s.jsx(y(),{color:"primary",badgeContent:t.length,children:s.jsx(m(),{color:"inherit",children:s.jsx(_.Z,{})})})})})]}),s.jsx(f(),{anchor:"right",open:r,onClose:i(!1),children:(0,s.jsxs)(h(),{sx:{width:"100vw",position:"relative"},role:"presentation",onClick:i(!1),onKeyDown:i(!1),children:[(0,s.jsxs)(v.ZP,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[s.jsx(u(),{variant:"h5",sx:{p:2},children:"ProHockey"}),s.jsx(m(),{onClick:i(!1),children:s.jsx(A.Z,{})})]}),s.jsx(b(),{}),(0,s.jsxs)(Z(),{children:[F.map(t=>s.jsx(P(),{children:(0,s.jsxs)($(),{onClick:()=>e.push(`${t.path}`),children:[s.jsx(W(),{children:s.jsx(t.icon,{})}),s.jsx(B(),{primary:t.title})]})},t.title)),s.jsx(P(),{children:(0,s.jsxs)($(),{onClick:()=>e.push("/cart"),children:[s.jsx(W(),{children:s.jsx(y(),{color:"primary",badgeContent:t.length,children:s.jsx(_.Z,{})})}),s.jsx(B(),{primary:"Корзина"})]})})]})]})})]})};a()}catch(e){a(e)}})},91773:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{w:()=>c});var s=r(20997),n=r(67528),i=r(16689),l=e([n]);n=(l.then?(await l)():l)[0];let o=(0,i.createContext)({}),c=({children:e})=>{let[t,r]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async()=>{try{let e=await (0,n.C)();r(e)}catch(e){console.error(e)}})()},[]),s.jsx(o.Provider,{value:{categories:t},children:e})};a()}catch(e){a(e)}})},60994:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>j});var s=r(20997),n=r(5037),i=r(25961),l=r(86059),o=r.n(l),c=r(28983),d=r.n(c),h=r(24965),x=r.n(h),u=r(26337),p=r.n(u),m=e([i]);i=(m.then?(await m)():m)[0];let j=({children:e})=>{let{isAuthenticated:t,isLoading:r}=(0,i.aC)();return r?s.jsx(o(),{}):s.jsx(d(),{maxWidth:t?"md":"sm",children:t?(0,s.jsxs)(x(),{container:!0,spacing:1,children:[s.jsx(x(),{item:!0,xs:3,children:s.jsx(n.Z,{})}),s.jsx(x(),{item:!0,xs:9,children:e})]}):s.jsx(p(),{children:e})})};a()}catch(e){a(e)}})},60835:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>u});var s=r(20997),n=r(18813),i=r(46252),l=r(32813),o=r(28983),c=r.n(o),d=r(40968),h=r.n(d),x=e([n,l]);[n,l]=x.then?(await x)():x;let u=({children:e})=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(h(),{children:[s.jsx("title",{children:"Hockey"}),s.jsx("meta",{name:"description",content:"Generated by create next app"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),s.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{className:"wrapper",children:[s.jsx(l.Z,{}),s.jsx("main",{style:{marginTop:80},children:(0,s.jsxs)(c(),{maxWidth:"md",children:[s.jsx(n.Z,{}),e]})}),s.jsx(i.Z,{})]})]});a()}catch(e){a(e)}})},85895:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{AU:()=>c,HG:()=>d,Ir:()=>m,k4:()=>h,nM:()=>j,nz:()=>y,ry:()=>u,uu:()=>p,wG:()=>o,yr:()=>x});var s=r(37290),n=r(99648),i=r(9992),l=e([n,i]);[n,i]=l.then?(await l)():l;let o=async e=>{try{let{data:t}=await n.default.post(`${s.LB}/admin/auth`,e);localStorage.setItem("token",t.token)}catch(e){throw Error(e.response.data.message)}},c=async()=>{try{let{data:e}=await i.Z.get(`${s.LB}/orders`);return e}catch(e){throw console.error(e),Error(e.response.data.message)}},d=async e=>{try{let{data:t}=await i.Z.get(`${s.LB}/orders?_id=${e}`);return t}catch(e){throw console.error(e),Error(e.response.data.message)}},h=async e=>{try{await i.Z.post(`${s.LB}/categories`,e)}catch(e){throw console.error(e),Error(e.response.data.message)}},x=async(e,t)=>{try{await i.Z.put(`${s.LB}/categories/${e}`,t)}catch(e){throw console.error(e),Error(e.response.data.message)}},u=async e=>{try{await i.Z.post(`${s.LB}/products`,e)}catch(e){throw console.log(e),Error(e.response.data.message)}},p=async e=>{try{await i.Z.delete(`${s.LB}/categories/${e}`)}catch(e){throw Error(e.response.data.message)}},m=async e=>{try{let{data:t}=await i.Z.delete(`${s.LB}/products/${e}`);return t}catch(e){throw Error(e.response.data.message)}},j=async(e,t)=>{try{let{data:r}=await i.Z.put(`${s.LB}/products/${e}`,t);return r}catch(e){throw Error(e.response.data.message)}},y=async()=>{try{await i.Z.put(`${s.LB}/products/clear/params-images`)}catch(e){console.error(e.response.data.message)}};a()}catch(e){a(e)}})},62103:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>v});var s=r(20997),n=r(89404),i=r.n(n),l=r(3828),o=r.n(l),c=r(28697),d=r.n(c),h=r(78549),x=r.n(h),u=r(23890),p=r.n(u),m=r(16689),j=r(85895),y=r(11163),g=e([j]);j=(g.then?(await g)():g)[0];let f={username:"",password:""},v=()=>{let[e,t]=(0,m.useState)(f),[r,a]=(0,m.useState)(""),n=(0,y.useRouter)(),l=e=>{t(t=>({...t,[e.target.name]:e.target.value}))},c=async()=>{if(!e.password||!e.username){a("Заполните все поля");return}a("");try{await (0,j.wG)(e),n.push("/admin")}catch(e){a(e.message)}};return(0,s.jsxs)(i(),{sx:{p:3,my:2},children:[s.jsx(o(),{variant:"h5",sx:{textAlign:"center",mb:3},children:"ProHockey авторизации"}),s.jsx(d(),{label:"Логин",fullWidth:!0,name:"username",value:e.username,onChange:l,autoComplete:"off"}),s.jsx(d(),{sx:{my:2},fullWidth:!0,label:"Пароль",name:"password",value:e.password,onChange:l,type:"password"}),!!r&&s.jsx(x(),{severity:"error",sx:{my:2},children:r}),s.jsx(p(),{variant:"contained",onClick:c,children:"Войти"})]})};a()}catch(e){a(e)}})},30407:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var a=r(20997),s=r(86331),n=r.n(s),i=r(26337),l=r.n(i),o=r(3828),c=r.n(o),d=r(34638),h=r(23890),x=r.n(h);r(16689);let u=({handleDelete:e,handleClose:t,anchorEl:r})=>a.jsx(n(),{open:!!r,anchorEl:r,onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,a.jsxs)(l(),{sx:{p:2,maxWidth:400},children:[a.jsx(c(),{children:"Вы уверены? Это действия безвозвратно"}),(0,a.jsxs)(d.ZP,{direction:"row",spacing:1,sx:{mt:1},children:[a.jsx(x(),{variant:"contained",color:"error",size:"small",onClick:e,children:"Удалить"}),a.jsx(x(),{variant:"outlined",size:"small",onClick:t,children:"Отмена"})]})]})})},84793:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>I});var s=r(20997),n=r(37290),i=r(85725),l=r(14905),o=r(24965),c=r.n(o),d=r(61217),h=r.n(d),x=r(32498),u=r.n(x),p=r(15234),m=r.n(p),j=r(3828),y=r.n(j),g=r(25261),f=r.n(g),v=r(23890),w=r.n(v),b=r(16689),C=r(85895),Z=r(3590),k=r(30407),P=r(11163),S=r(94144),$=r(50343),L=r(35030),W=e([C,Z]);[C,Z]=W.then?(await W)():W;let I=({data:e})=>{let t=e.basePrice?"product":"category",[r,a]=(0,b.useState)(null),{deleteContextProduct:o}=(0,$.r)()??{deleteContextProduct:()=>{}},{deleteContextCategory:d}=(0,L.L)()??{deleteContextCategory:()=>{}},x=(0,P.useRouter)(),p=()=>{a(null)},j=async()=>{try{"category"===t?(await (0,C.uu)(e._id),d(e._id)):(await (0,C.Ir)(e._id),o(e._id)),p()}catch(e){Z.toast.error(e),console.log(e)}};return(0,s.jsxs)(c(),{item:!0,xs:6,md:4,children:[(0,s.jsxs)(h(),{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[s.jsx(u(),{sx:{height:140},image:`${n.LB}/${e.photo}`,title:e.name}),(0,s.jsxs)(m(),{sx:{flex:1},children:[s.jsx(y(),{gutterBottom:!0,variant:"body1",component:"div",children:e.name}),e.price&&(0,s.jsxs)(y(),{variant:"h6",children:[(0,S.Jw)(e.price)," ₸"]})]}),(0,s.jsxs)(f(),{sx:{flexDirection:"column",gap:1,pb:2},children:[s.jsx(w(),{variant:"contained",fullWidth:!0,startIcon:s.jsx(i.Z,{}),size:"small",onClick:()=>{"category"===t?x.push(`/admin/categories/edit/${e._id}`):x.push(`/admin/products/edit/${e._id}`)},children:"Редактировать"}),s.jsx(w(),{onClick:e=>a(e.currentTarget),fullWidth:!0,variant:"outlined",color:"error",size:"small",startIcon:s.jsx(l.Z,{}),children:"Удалить"})]})]}),s.jsx(k.Z,{anchorEl:r,handleClose:p,handleDelete:j})]})};a()}catch(e){a(e)}})},89962:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>k});var s=r(20997),n=r(26628),i=r(89404),l=r.n(i),o=r(26337),c=r.n(o),d=r(28697),h=r.n(d),x=r(34638),u=r(23890),p=r.n(u),m=r(78549),j=r.n(m),y=r(16689),g=r(85895),f=r(11163),v=r(3590),w=r(37290),b=r(94144),C=e([g,v]);[g,v]=C.then?(await C)():C;let Z={name:"",photo:null,photoPreview:null},k=({initialData:e})=>{let[t,r]=(0,y.useState)(e||Z),[a,i]=(0,y.useState)(!1),o=(0,f.useRouter)();(0,y.useEffect)(()=>{e&&r({...e,photoPreview:`${w.LB}/${e.photo}`})},[e]);let d=async r=>{if(r.preventDefault(),i(!0),!t.name||!t.photo){v.toast.error("Все поля должны быть заполнены");return}let a=new FormData;a.append("name",t.name.trim()),a.append("urlPath",(0,b.Ro)(t.name).trim()),a.append("category",t.photo);try{if(e){await (0,g.yr)(o.query.id,a),v.toast.success("Категория обновлена"),o.push("/admin/categories");return}await (0,g.k4)(a),v.toast.success("Категория создана"),o.push("/admin/categories")}catch(e){v.toast.error(e.message||"Произошла ошибка, попробуйте позже")}finally{i(!1)}};return s.jsx(l(),{sx:{p:2},children:(0,s.jsxs)(c(),{component:"form",onSubmit:d,children:[s.jsx(h(),{autoComplete:"off",fullWidth:!0,label:"Название",name:"name",value:t.name,onChange:e=>{let{name:t,value:a}=e.target;r(e=>({...e,[t]:a}))},required:!0,sx:{mb:2}}),(0,s.jsxs)(x.ZP,{direction:"row",spacing:2,alignItems:"center",children:[(0,s.jsxs)(p(),{component:"label",variant:"contained",startIcon:s.jsx(n.Z,{}),color:"info",children:["Загрузить файл",s.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{r(t=>({...t,photo:e.target.files[0],photoPreview:URL.createObjectURL(e.target.files[0])}))},sx:{mb:2}})]}),t.photo?s.jsx(j(),{severity:"success",children:t.photo.name}):s.jsx(j(),{severity:"warning",children:"Файл не загружен!"})]}),t.photoPreview&&s.jsx(c(),{mt:2,textAlign:"center",children:s.jsx("img",{src:t.photoPreview,alt:"Превью",style:{maxWidth:"100%",maxHeight:"200px"}})}),s.jsx(p(),{type:"submit",variant:"contained",color:"primary",sx:{mt:2,display:"block"},disabled:a,children:"Сохранить"})]})})};a()}catch(e){a(e)}})},29905:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>p});var s=r(20997),n=r(3828),i=r.n(n),l=r(24965),o=r.n(l),c=r(78549),d=r.n(c);r(16689);var h=r(84793),x=r(35030),u=e([h]);h=(u.then?(await u)():u)[0];let p=()=>{let{categories:e}=(0,x.L)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{variant:"subtitle1",children:["Всего категорий: ",e.length]}),s.jsx(o(),{container:!0,spacing:1,sx:{my:2},children:Array.isArray(e)&&e.length>0?e.map(e=>s.jsx(h.Z,{data:e},e._id)):s.jsx(o(),{item:!0,xs:12,children:s.jsx(d(),{severity:"info",children:"Пусто"})})})]})};a()}catch(e){a(e)}})},54569:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var a=r(20997),s=r(94144),n=r(97181),i=r(90250),l=r(73439),o=r(89404),c=r.n(o),d=r(3828),h=r.n(d),x=r(34224),u=r.n(x),p=r(24965),m=r.n(p);r(16689);let j=({email:e,name:t,phone:r})=>(0,a.jsxs)(c(),{sx:{p:1},children:[a.jsx(h(),{variant:"h5",children:"Информация о покупателе"}),a.jsx(u(),{color:"white",sx:{my:1}}),(0,a.jsxs)(m(),{container:!0,spacing:1,children:[a.jsx(m(),{item:!0,xs:1,children:a.jsx(n.Z,{})}),a.jsx(m(),{item:!0,xs:11,children:a.jsx(h(),{children:t})}),a.jsx(m(),{item:!0,xs:1,children:a.jsx(i.Z,{})}),a.jsx(m(),{item:!0,xs:11,children:a.jsx(h(),{children:(0,s.ZQ)(r)})}),a.jsx(m(),{item:!0,xs:1,children:a.jsx(l.Z,{})}),a.jsx(m(),{item:!0,xs:11,children:a.jsx(h(),{children:e})})]})]})},38329:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var a=r(20997),s=r(94144),n=r(89404),i=r.n(n),l=r(3828),o=r.n(l),c=r(24965),d=r.n(c),h=r(34224),x=r.n(h),u=r(23890),p=r.n(u),m=r(11163);r(16689);let j=({order:e})=>{let t=(0,m.useRouter)();return(0,a.jsxs)(i(),{elevation:4,sx:{bgcolor:"text.primary",mb:2,borderRadius:2,p:1,color:"background.paper"},children:[a.jsx(o(),{variant:"subtitle1",children:new Date(e.createdAt).toLocaleString()}),(0,a.jsxs)(d(),{container:!0,children:[(0,a.jsxs)(d(),{item:!0,xs:4,children:[a.jsx(o(),{sx:{fontWeight:600},children:"Клиент:"}),a.jsx(x(),{sx:{my:1},color:"background.paper"}),a.jsx(o(),{variant:"subtitle2",children:e.name}),a.jsx(o(),{variant:"subtitle2",children:(0,s.ZQ)(e.phone)}),a.jsx(o(),{variant:"subtitle2",children:e.email})]}),(0,a.jsxs)(d(),{item:!0,xs:6,children:[(0,a.jsxs)(o(),{sx:{fontWeight:600},children:["Кол-во товаров: ",e.products.length]}),a.jsx(x(),{sx:{my:1},color:"background.paper"}),e.products.map((e,t)=>a.jsx(o(),{variant:"subtitle2",children:e.name},t))]}),(0,a.jsxs)(d(),{item:!0,xs:2,children:[a.jsx(o(),{sx:{fontWeight:600},children:"Сумма"}),a.jsx(x(),{sx:{my:1},color:"background.paper"}),(0,a.jsxs)(o(),{sx:{mt:1,fontWeight:600},children:[(0,s.Jw)(e.totalPrice)," ₸"]})]})]}),a.jsx(x(),{sx:{my:1},color:"background.paper"}),a.jsx(p(),{variant:"outlined",onClick:()=>t.push(`/admin/orders/${e._id}`),children:"Подробнее"})]})}},84960:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>x});var s=r(20997),n=r(26337),i=r.n(n),l=r(78549),o=r.n(l);r(16689);var c=r(51562),d=r(38329),h=e([c]);c=(h.then?(await h)():h)[0];let x=()=>{let{orders:e}=(0,c.y)();return s.jsx(i(),{sx:{mt:2},children:0===e.length?s.jsx(o(),{severity:"info",children:"Заказов не найдено"}):e.map(e=>s.jsx(d.Z,{order:e},e._id))})};a()}catch(e){a(e)}})},14479:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var a=r(20997),s=r(89404),n=r.n(s),i=r(3828),l=r.n(i),o=r(34224),c=r.n(o);r(16689);var d=r(37290),h=r(94144),x=r(24965),u=r.n(x);let p=({product:e})=>(0,a.jsxs)(u(),{container:!0,spacing:1,sx:{my:2},children:[a.jsx(u(),{item:!0,xs:2,children:a.jsx("img",{style:{maxWidth:"100%"},alt:e.name,src:`${d.LB}/${e.photo}`})}),(0,a.jsxs)(u(),{item:!0,xs:6,children:[a.jsx(l(),{children:e.name}),a.jsx(l(),{variant:"subtitle2",sx:{my:1},children:e.category.name}),e.parameters.map(e=>(0,a.jsxs)(l(),{variant:"subtitle2",children:[e.name," : ",e.value.value]}))]}),(0,a.jsxs)(u(),{item:!0,xs:3,children:[(0,a.jsxs)(l(),{variant:"subtitle2",children:["Куплено: ",e.cartCounter," шт."]}),(0,a.jsxs)(l(),{variant:"subtitle2",children:["Цена за 1 шт: ",(0,h.Jw)(e.finalPrice)," ₸"]}),a.jsx(l(),{variant:"subtitle2",children:"Общая цена за товар:"}),(0,a.jsxs)(l(),{variant:"h6",children:[(0,h.Jw)(e.cartCounter*e.finalPrice)," ₸"]})]})]}),m=({products:e,totalPrice:t})=>(0,a.jsxs)(n(),{sx:{p:1,mb:2},children:[a.jsx(l(),{variant:"h5",marginY:1,children:"Информация о товарах"}),a.jsx(c(),{color:"white"}),e&&e.map((e,t)=>a.jsx(p,{product:e},t)),a.jsx(c(),{color:"white"}),(0,a.jsxs)(l(),{variant:"h5",marginY:1,children:["Итоговая цена: ",(0,h.Jw)(t)," ₸"]})]})},68229:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>R});var s=r(20997),n=r(14905),i=r(89404),l=r.n(i),o=r(3828),c=r.n(o),d=r(28697),h=r.n(d),x=r(23890),u=r.n(x),p=r(26337),m=r.n(p),j=r(73426),y=r.n(j),g=r(35590),f=r.n(g),v=r(24965),w=r.n(v),b=r(36047),C=r.n(b),Z=r(80601),k=r.n(Z),P=r(16689),S=r(85895),$=r(11163),L=r(3590),W=r(37290),I=e([S,L]);[S,L]=I.then?(await I)():I;let B={name:"",basePrice:"",shortDescription:"",detailedDescription:"",category:"",parameters:[],photo:null},R=({categories:e,initialData:t})=>{let[r,a]=(0,P.useState)(t||B),i=(0,$.useRouter)(),[o,d]=(0,P.useState)(null),[x,p]=(0,P.useState)(!1),[j,g]=(0,P.useState)(W.LB+"/"+r.photo);(0,P.useEffect)(()=>{t&&(a({...t,photoPreview:t.photo?`${W.LB}/${t.photo}`:""}),t.parameters.forEach((e,t)=>{e.values.some(e=>e.photo)&&d(t)}))},[t]),(0,P.useEffect)(()=>{if(Number.isInteger(o)){let e=r.parameters[o].values.find(e=>e.defaultValue)?.photo;"string"==typeof e?g(`${W.LB}/${e}`):"object"==typeof e&&null!==e?g(e.photoPreview):g("")}},[o,r]);let v=e=>{let{name:t,value:s}=e.target;if("basePrice"===t){let e=s.replace(/[^0-9]/g,"");a({...r,[t]:e})}else a({...r,[t]:s})},b=(e,t)=>s=>{let n=[...r.parameters];n[e][t]=s.target.value,a({...r,parameters:n})},Z=e=>()=>{let t=[...r.parameters];t[e].values.push({value:"",photo:null,photoPreview:"",defaultValue:0===t[e].values.length}),a({...r,parameters:t})},I=(e,t,s)=>n=>{let i=[...r.parameters];if("photo"===s){let r=n.target.files[0];i[e].values[t][s]=r,i[e].values[t].photoPreview=URL.createObjectURL(r),d(e)}else if("value"===s)i[e].values[t][s]=n.target.value;else if("extraPrice"===s){let r=n.target.value.replace(/[^0-9]/g,"");i[e].values[t][s]=r}else{for(let t of i[e].values)t.defaultValue=!1;i[e].values[t].defaultValue=!0}a({...r,parameters:i}),e===o&&a({...r,photo:i[e].values[t].photo,photoPreview:i[e].values[t].photoPreview})},R=e=>()=>{let t=[...r.parameters];t[e].values.some(e=>e.photo)&&d(null),t.splice(e,1),a({...r,parameters:t})},D=(e,t)=>()=>{let s=[...r.parameters];s[e].values.splice(t,1),e!==o||s[e].values.length||d(null),a({...r,parameters:s})},E=async e=>{e.preventDefault(),p(!0);let{name:a,basePrice:s,shortDescription:n,detailedDescription:l,category:c,parameters:d,photo:h}=r;if(!a||!s||!n||!l||!c||!h){L.toast.error("Все поля должны быть заполнены");return}let x=d.map(e=>(e.values.some(e=>e.hasOwnProperty("defaultValue"))||(e.values=e.values.map((e,t)=>({...e,defaultValue:0===t}))),e)),u=new FormData;u.append("name",a.trim()),u.append("basePrice",s),u.append("shortDescription",n.trim()),u.append("detailedDescription",l.trim()),u.append("category",c),o||u.append("product",h);let m=!0;if(d.forEach((e,t)=>{e.values.forEach((e,r)=>{e.photo&&(e.photo.name?u.append("parameterPhotos",e.photo,e.photo.name):u.append("parameterPhotos",e.photo)),t!==o||e.photo||(m=!1)})}),!m){L.toast.error("Не загружена картинка для значения параметра"),p(!1);return}u.append("parameters",JSON.stringify(x));try{t?(await (0,S.nM)(t._id,u),L.toast.success("Продукт успешно обновлен")):(await (0,S.ry)(u),L.toast.success("Продукт успешно создан")),i.push("/admin/products")}catch(e){console.log(e),(0,S.nz)(),L.toast.error(e.message||"Произошла ошибка, попробуйте позже")}finally{p(!1)}};return(0,s.jsxs)(l(),{sx:{p:2},children:[s.jsx(c(),{variant:"h6",gutterBottom:!0,children:"Создание продукта"}),(0,s.jsxs)("form",{onSubmit:E,children:[s.jsx(h(),{autoComplete:"off",label:"Название",name:"name",value:r.name,onChange:v,fullWidth:!0,required:!0}),s.jsx(h(),{autoComplete:"off",label:"Базовая цена (тенге)",name:"basePrice",value:r.basePrice,onChange:v,fullWidth:!0,required:!0,sx:{mt:2}}),s.jsx(h(),{autoComplete:"off",label:"Краткое описание",name:"shortDescription",value:r.shortDescription,onChange:v,fullWidth:!0,required:!0,sx:{mt:2}}),s.jsx(h(),{autoComplete:"off",label:"Детальное описание",name:"detailedDescription",value:r.detailedDescription,onChange:v,fullWidth:!0,required:!0,multiline:!0,rows:4,sx:{mt:2}}),(0,s.jsxs)(u(),{disabled:Number.isInteger(o),variant:"contained",component:"label",fullWidth:!0,sx:{mt:2},children:["Загрузить фотографию",s.jsx("input",{type:"file",hidden:!0,name:"photo",onChange:e=>{let{name:t,files:s}=e.target,n=s[0];a({...r,[t]:n,photoPreview:URL.createObjectURL(n)})}})]}),j&&s.jsx(m(),{mt:2,textAlign:"center",children:s.jsx("img",{src:j,alt:"Превью",style:{maxWidth:"100%",maxHeight:"200px"}})}),s.jsx(c(),{variant:"h6",sx:{mt:2},children:"Категория"}),s.jsx(y(),{name:"category",onChange:v,value:r.category,fullWidth:!0,sx:{mt:2},children:!!e&&e.map(e=>s.jsx(f(),{value:e._id,children:e.name},e._id))}),s.jsx(c(),{variant:"h6",sx:{mt:2},children:"Параметры"}),r.parameters.map((e,t)=>(0,s.jsxs)(m(),{sx:{mt:2,mb:2,p:2,border:"1px solid #ccc",borderRadius:"4px"},children:[s.jsx(h(),{autoComplete:"off",label:"Название параметра",value:e.name,onChange:b(t,"name"),fullWidth:!0,required:!0}),e.values.map((e,r)=>(0,s.jsxs)(w(),{container:!0,spacing:1,sx:{mt:1,borderBottom:"1px solid",borderColor:"text.primary",pb:3},children:[0===r&&s.jsx(w(),{item:!0,xs:12,children:s.jsx(c(),{variant:"subtitle2",children:"Выберите значение по умолчанию"})}),s.jsx(w(),{item:!0,xs:1,children:s.jsx(C(),{onChange:I(t,r,"defaultValue"),checked:e.defaultValue||!1})}),s.jsx(w(),{item:!0,xs:5,children:s.jsx(h(),{autoComplete:"off",label:"Значение",value:e.value,onChange:I(t,r,"value"),fullWidth:!0,required:!0})}),(0,s.jsxs)(w(),{item:!0,xs:5,children:[(0,s.jsxs)(u(),{variant:"contained",component:"label",fullWidth:!0,disabled:null!==o&&t!==o,children:["Загрузить фотографию",s.jsx("input",{type:"file",hidden:!0,accept:"image/png, image/gif, image/jpeg",name:"photo",onChange:I(t,r,"photo")})]}),(e.photoPreview||e.photo)&&s.jsx(m(),{mt:2,textAlign:"center",children:s.jsx("img",{src:e.photoPreview||W.LB+"/"+e.photo,alt:"Превью",style:{maxWidth:"100%",maxHeight:"200px"}})})]}),s.jsx(w(),{item:!0,xs:1,children:s.jsx(k(),{onClick:D(t,r),children:s.jsx(n.Z,{})})}),s.jsx(w(),{item:!0,xs:3,sx:{display:"flex",alignItems:"center"},children:s.jsx(c(),{children:"Надбавка к цене:"})}),s.jsx(w(),{item:!0,xs:9,children:s.jsx(h(),{value:e.extraPrice,onChange:I(t,r,"extraPrice"),fullWidth:!0,label:"Надбавка в тенге",autoComplete:"off"})})]},r)),s.jsx(u(),{variant:"outlined",onClick:Z(t),fullWidth:!0,sx:{mt:2},children:"Добавить значение"}),s.jsx(u(),{variant:"contained",color:"error",onClick:R(t),fullWidth:!0,sx:{mt:1},children:"Удалить параметр"})]},t)),s.jsx(u(),{variant:"outlined",onClick:()=>{a({...r,parameters:[...r.parameters,{name:"",values:[]}]})},fullWidth:!0,sx:{mt:2},children:"Добавить параметр"}),s.jsx(u(),{type:"submit",variant:"contained",color:"primary",fullWidth:!0,sx:{mt:2},children:"Сохранить"})]})]})};a()}catch(e){a(e)}})},93597:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>p});var s=r(20997),n=r(3828),i=r.n(n),l=r(24965),o=r.n(l),c=r(78549),d=r.n(c);r(16689);var h=r(84793),x=r(50343),u=e([h]);h=(u.then?(await u)():u)[0];let p=()=>{let{products:e}=(0,x.r)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{variant:"subtitle1",children:["Всего товаров: ",e.length]}),s.jsx(o(),{container:!0,spacing:1,sx:{my:1},children:e.length>0?e.map(e=>s.jsx(h.Z,{data:e},e._id)):s.jsx(o(),{item:!0,xs:12,children:s.jsx(d(),{severity:"info",children:"Пусто"})})})]})};a()}catch(e){a(e)}})},91676:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var a=r(20997),s=r(89404),n=r.n(s),i=r(12143),l=r.n(i),o=r(73426),c=r.n(o),d=r(35590),h=r.n(d),x=r(80601),u=r.n(x),p=r(16689),m=r(50343),j=r(12641);let y=({categories:e})=>{let{sortProductByCategory:t,resetSorting:r}=(0,m.r)(),[s,i]=(0,p.useState)("");return(0,a.jsxs)(n(),{sx:{my:1,p:1},children:[a.jsx(l(),{id:"category-sort",children:"Сортировать по категории"}),a.jsx(c(),{name:"category",labelId:"category-sort",onChange:e=>{i(e.target.value),t(e.target.value)},value:s,children:!!e&&e.map(e=>a.jsx(h(),{value:e._id,children:e.name},e._id))}),!!s&&a.jsx(u(),{size:"small",onClick:()=>{i(""),r()},children:a.jsx(j.Z,{})})]})}},20382:(e,t,r)=>{"use strict";r.d(t,{i:()=>n,z:()=>i});var a=r(20997),s=r(16689);let n=(0,s.createContext)(),i=({children:e,initialCategories:t})=>{let[r,i]=(0,s.useState)(t);return a.jsx(n.Provider,{value:{categories:r,deleteContextCategory:e=>{i(t=>t.filter(t=>t._id!==e))}},children:e})}},98216:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{L:()=>o,W:()=>c});var s=r(20997),n=r(16689),i=r(85895),l=e([i]);i=(l.then?(await l)():l)[0];let o=(0,n.createContext)(),c=({children:e})=>{let[t,r]=(0,n.useState)([]);return(0,n.useEffect)(()=>{(async function(){let e=await (0,i.AU)();r(e)})()},[]),s.jsx(o.Provider,{value:{orders:t},children:e})};a()}catch(e){a(e)}})},17562:(e,t,r)=>{"use strict";r.d(t,{B:()=>n,J:()=>i});var a=r(20997),s=r(16689);let n=(0,s.createContext)(),i=({children:e,initialProducts:t})=>{let[r,i]=(0,s.useState)(t);return a.jsx(n.Provider,{value:{products:r,deleteContextProduct:e=>{i(t=>t.filter(t=>t._id!==e))},resetSorting:()=>{i(t)},sortProductByCategory:e=>{i(t.filter(t=>t.category===e))}},children:e})}},9992:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>o});var s=r(37290),n=r(99648),i=e([n]);let l=(n=(i.then?(await i)():i)[0]).default.create({baseURL:s.LB});l.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));let o=l;a()}catch(e){a(e)}})},89723:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{a:()=>d});var s=r(16689),n=r(99648),i=r(11163),l=r(37290),o=r(3590),c=e([n,o]);[n,o]=c.then?(await c)():c;let d=()=>{let[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!0),c=(0,i.useRouter)();return(0,s.useEffect)(()=>{let e=localStorage.getItem("token");e?n.default.post(`${l.LB}/admin/verify-token`,{token:e}).then(e=>{200===e.status?t(!0):(t(!1),o.toast.warn("Срок действия сессии истек, войдите заново"),localStorage.removeItem("token"),c.push("/admin/auth"))}).catch(e=>{t(!1),o.toast.warn(e.response?.data?.message||"Ошибка проверки токена"),localStorage.removeItem("token"),c.push("/admin/auth")}).finally(()=>{a(!1)}):(t(!1),c.push("/admin/auth"),a(!1))},[c.asPath]),{isAuthenticated:e,isLoading:r}};a()}catch(e){a(e)}})},35030:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});var a=r(16689),s=r(20382);let n=()=>(0,a.useContext)(s.i)},51562:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{y:()=>l});var s=r(16689),n=r(98216),i=e([n]);n=(i.then?(await i)():i)[0];let l=()=>(0,s.useContext)(n.L);a()}catch(e){a(e)}})},50343:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var a=r(16689),s=r(17562);let n=()=>(0,a.useContext)(s.B)},25961:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Bt:()=>s.Z,HG:()=>o.Z,S:()=>x.Z,aC:()=>d.a,g6:()=>i.Z,gb:()=>l.Z,q1:()=>c.Z,uP:()=>h.Z});var s=r(62103),n=r(29905),i=r(89962),l=r(7774),o=r(68229),c=r(21099),d=r(89723),h=r(6059),x=r(31568),u=e([s,n,i,l,o,c,d,h,x]);[s,n,i,l,o,c,d,h,x]=u.then?(await u)():u,a()}catch(e){a(e)}})},7774:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>o});var s=r(20997);r(16689);var n=r(20382),i=r(29905),l=e([i]);i=(l.then?(await l)():l)[0];let o=({categories:e})=>s.jsx(n.z,{initialCategories:e,children:s.jsx(i.Z,{})});a()}catch(e){a(e)}})},31568:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>m});var s=r(20997),n=r(26337),i=r.n(n),l=r(86059),o=r.n(l),c=r(11163),d=r(16689),h=r(85895),x=r(54569),u=r(14479),p=e([h]);h=(p.then?(await p)():p)[0];let m=()=>{let{_id:e}=(0,c.useRouter)().query,[t,r]=(0,d.useState)({}),[a,n]=(0,d.useState)(!0);return(0,d.useEffect)(()=>{async function t(){try{let t=await (0,h.HG)(e);r(t)}finally{n(!1)}}e&&t()},[e]),a?s.jsx(i(),{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:s.jsx(o(),{})}):(0,s.jsxs)(i(),{children:[s.jsx(u.Z,{products:t.products,totalPrice:t.totalPrice}),s.jsx(x.Z,{email:t.email,name:t.name,phone:t.phone})]})};a()}catch(e){a(e)}})},6059:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>o});var s=r(20997);r(16689);var n=r(98216),i=r(84960),l=e([n,i]);[n,i]=l.then?(await l)():l;let o=()=>s.jsx(n.W,{children:s.jsx(i.Z,{})});a()}catch(e){a(e)}})},21099:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>c});var s=r(20997);r(16689);var n=r(17562),i=r(91676),l=r(93597),o=e([l]);l=(o.then?(await o)():o)[0];let c=({products:e,categories:t})=>(0,s.jsxs)(n.J,{initialProducts:e,children:[s.jsx(i.Z,{categories:t}),s.jsx(l.Z,{})]});a()}catch(e){a(e)}})},39169:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>b});var s=r(20997),n=r(56586),i=r(37290),l=r(94144),o=r(24965),c=r.n(o),d=r(26337),h=r.n(d),x=r(3828),u=r.n(x),p=r(80601),m=r.n(p);r(16689);var j=r(8204),y=r(41664),g=r.n(y),f=r(78108),v=r(14905),w=e([j]);j=(w.then?(await w)():w)[0];let b=({product:e,index:t})=>{let{removeFromCart:r,changeProductCounter:a}=(0,j.j)(),o=()=>{r(t)},d=(0,f.G)(e.parameters);return s.jsx(c(),{item:!0,xs:12,p:0,children:(0,s.jsxs)(h(),{sx:{display:"flex",flexDirection:{md:"row",xs:"column"},alignItems:{xs:"stretch",md:"center"},bgcolor:"primary.light",p:1,borderRadius:1,gap:{xs:2,md:1}},children:[(0,s.jsxs)(h(),{sx:{flexGrow:1,display:"flex",gap:1},children:[s.jsx(g(),{href:`/products/${e.category.urlPath}/${e.name}${d}`,style:{display:"flex",alignItems:"center"},children:s.jsx(h(),{sx:{textAlign:"center",width:{xs:130,md:100},height:{xs:"auto",md:100},border:"1px solid black",borderRadius:2,overflow:"hidden"},children:s.jsx("img",{src:`${i.LB}/${e.photo}`,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})}),(0,s.jsxs)(h(),{children:[s.jsx(u(),{variant:"h6",sx:{fontSize:18},children:e.name}),e.parameters.map(e=>(0,s.jsxs)(u(),{variant:"subtitle2",children:[e.name,": ",e.value.value]},e._id))]})]}),(0,s.jsxs)(h(),{sx:{display:"flex",alignItems:"center",gap:2,justifyContent:"space-between"},children:[s.jsx(n.Z,{cartCounter:e.cartCounter,handleChangeCartCounter:e=>{a(t,e)},order:1}),(0,s.jsxs)(h(),{sx:{order:{xs:2,md:1}},children:[(0,s.jsxs)(u(),{sx:{fontWeight:600},children:[(0,l.Jw)(e.finalPrice*e.cartCounter)," ₸"]}),(0,s.jsxs)(u(),{variant:"caption",children:[(0,l.Jw)(e.finalPrice)," ₸ * ",e.cartCounter]})]}),s.jsx(m(),{sx:{order:{xs:0,md:2}},onClick:()=>o(t),color:"secondary",children:s.jsx(v.Z,{sx:{color:"background.default"}})})]})]})})};a()}catch(e){a(e)}})},42146:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>j});var s=r(20997);r(16689);var n=r(89404),i=r.n(n),l=r(3828),o=r.n(l),c=r(78549),d=r.n(c),h=r(24965),x=r.n(h),u=r(8204),p=r(39169),m=e([u,p]);[u,p]=m.then?(await m)():m;let j=()=>{let{cart:e}=(0,u.j)();return console.log(e),(0,s.jsxs)(i(),{sx:{bgcolor:"primary.light",color:"background.paper",p:2},children:[s.jsx(o(),{variant:"h5",mb:2,children:"Корзина"}),0===e.length?s.jsx(d(),{severity:"info",color:"info",children:"Пусто"}):s.jsx(x(),{container:!0,children:e.map((e,t)=>s.jsx(p.Z,{index:t,product:e},t))})]})};a()}catch(e){a(e)}})},80275:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>y});var s=r(20997),n=r(66594),i=r(34186),l=r(89404),o=r.n(l),c=r(3828),d=r.n(c),h=r(23890),x=r.n(h);r(16689);var u=r(8204),p=r(94144),m=r(11163),j=e([u]);u=(j.then?(await j)():j)[0];let y=()=>{let{cart:e}=(0,u.j)(),t=(0,m.useRouter)();if(0===e.length)return null;let r=e.reduce((e,t)=>e+t.finalPrice*t.cartCounter,0),a=(0,n.Z)(),l=(0,i.Z)(a.breakpoints.down("sm"));return(0,s.jsxs)(o(),{sx:{zIndex:100,bgcolor:"primary.light",position:{md:"static",xs:"sticky"},bottom:2,top:2,left:0,my:2,color:"background.paper",float:{xs:"none",md:"right"},p:2},children:[(0,s.jsxs)(d(),{variant:"h6",sx:{textAlign:{xs:"left",md:"right"},mb:2,"&>span":{fontWeight:600}},children:["Итого: ",(0,s.jsxs)("span",{children:[(0,p.Jw)(r)," ₸"]})]}),s.jsx(x(),{variant:"contained",fullWidth:l,onClick:()=>t.push("/checkout"),children:"Оформить заказ"})]})};a()}catch(e){a(e)}})},47889:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{A:()=>o,Z:()=>c});var s=r(20997),n=r(16689),i=r(3590),l=e([i]);i=(l.then?(await l)():l)[0];let o=(0,n.createContext)(),c=({children:e})=>{let[t,r]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let e=localStorage.getItem("cart");r(e?JSON.parse(e):[])},[]),s.jsx(o.Provider,{value:{cart:t,addToCart:e=>{let t=JSON.parse(JSON.stringify(e));r(e=>{let r=[...e,t];return localStorage.setItem("cart",JSON.stringify(r)),r})},removeFromCart:e=>{r(t=>{let r=[...t];return r.splice(e,1),localStorage.setItem("cart",JSON.stringify(r)),r})},changeProductCounter:(e,t)=>{r(r=>{let a=[...r],s=a[e];return"add"===t?s.cartCounter>=10?(s.cartCounter=10,i.toast.info("Для оптовой покупки на выгодных условиях свяжитесь с нами по телефону")):s.cartCounter+=1:s.cartCounter<=1?s.cartCounter=1:s.cartCounter-=1,localStorage.setItem("cart",JSON.stringify(a)),a})},clearCart:()=>{localStorage.removeItem("cart"),r([])}},children:e})};a()}catch(e){a(e)}})},78108:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});let a=e=>"?"+e.map(e=>`${encodeURIComponent(e.name)}=${encodeURIComponent(e.value.value)}`).join("&")},8204:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{j:()=>l});var s=r(16689),n=r(47889),i=e([n]);n=(i.then?(await i)():i)[0];let l=()=>(0,s.useContext)(n.A);a()}catch(e){a(e)}})},97939:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{ER:()=>n.Z,Gl:()=>s.Z,Zl:()=>i.Z,jD:()=>l.j});var s=r(42146),n=r(80275),i=r(47889),l=r(8204),o=e([s,n,i,l]);[s,n,i,l]=o.then?(await o)():o,a()}catch(e){a(e)}})},49413:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>g});var s=r(20997),n=r(92381),i=r.n(n);r(30108);var l=r(9610),o=r(45087),c=r(11163),d=r(60994),h=r(60835),x=r(3590);r(88819);var u=r(97939),p=r(91773),m=r(40968),j=r.n(m),y=e([d,h,x,u,p]);function g({Component:e,pageProps:t}){let r=(0,c.useRouter)(),a=r.pathname.startsWith("/admin")?d.Z:h.Z;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(j(),{children:[s.jsx("meta",{charSet:"UTF-8"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("meta",{name:"description",content:"Купите лучшие хоккейные аксессуары у нас!"}),s.jsx("meta",{name:"keywords",content:"хоккей, аксессуары, заточка"}),s.jsx("meta",{name:"author",content:"ProHockey"}),s.jsx("title",{children:"ProHockey - магазин хоккейных аксессуаров и услуг"}),s.jsx("link",{rel:"icon",href:"/favicon.ico"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:site_name",content:"ProHockey"}),s.jsx("meta",{property:"og:url",content:`https://prohockey.kz${r.asPath}`})]}),s.jsx(o.Z,{theme:l.Z,children:(0,s.jsxs)(u.Zl,{children:[s.jsx(p.w,{children:s.jsx(a,{children:s.jsx("div",{className:i().className,children:s.jsx(e,{...t})})})}),s.jsx(x.ToastContainer,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0,theme:"dark"})]})})]})}[d,h,x,u,p]=y.then?(await y)():y,a()}catch(e){a(e)}})},67528:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{C:()=>l});var s=r(99648),n=r(37290),i=e([s]);s=(i.then?(await i)():i)[0];let l=async()=>{let{data:e}=await s.default.get(`${n.LB}/categories`);return e};a()}catch(e){a(e)}})},37290:(e,t,r)=>{"use strict";r.d(t,{KT:()=>o,LB:()=>i,mw:()=>l});var a=r(20997),s=r(24651),n=r(84086);let i="https://prohockey-server.onrender.com",l={cart:"Корзина",products:"Каталог",checkout:"Оформление заказа",contacts:"Контакты","delivery-payment":"Доставка и оплата","thank-you":"Благодарность"},o=[{icon:a.jsx(s.Z,{}),href:"https://wa.me/+77752053441",title:"WhatsApp"},{icon:a.jsx(n.Z,{}),href:"https://www.instagram.com/prohockeykz/",title:"Instagram"}]},94144:(e,t,r)=>{"use strict";function a(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}r.d(t,{Jw:()=>a,Qo:()=>i,Ro:()=>n,ZQ:()=>s});let s=e=>(e.slice(0,2)+" "+e.slice(2,5)+" "+e.slice(5,8)+" "+e.slice(8,10)+" "+e.slice(10,12)).trim();function n(e){let t={а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"y",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"shch",ы:"yi",э:"e'",ю:"yu",я:"ya",ъ:"''",ь:"'"," ":"-"};return e.toLowerCase().split("").map(e=>t[e]||e).join("")}function i(e){let t={a:"а",b:"б",v:"в",g:"г",d:"д",e:"е",yo:"ё",zh:"ж",z:"з",i:"и",y:"й",k:"к",l:"л",m:"м",n:"н",o:"о",p:"п",r:"р",s:"с",t:"т",u:"у",f:"ф",kh:"х",ts:"ц",ch:"ч",sh:"ш",shch:"щ",yi:"ы","e'":"э",yu:"ю",ya:"я","-":" ","'":"ь","''":"ъ"},r=Object.keys(t).sort((e,t)=>t.length-e.length),a=e.toLowerCase();for(let e=0;e<r.length;e++){let s=r[e],n=t[s];a=a.split(s).join(n)}return a.length>0&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}},9610:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(18442).createTheme)({typography:{fontFamily:'"Inter", sans-serif'},palette:{mode:"dark",primary:{main:"#3e44e6",light:"#f2f2f2",dark:"#191919"},secondary:{main:"#96627c"},background:{default:"#565656",paper:"#0E1214"},text:{primary:"#ffffff",secondary:"#b0b0b0"}},components:{MuiButton:{styleOverrides:{containedPrimary:{backgroundColor:"#3e44e6",color:"#ffffff","&:hover":{backgroundColor:"#112D49"},"&.Mui-disabled":{backgroundColor:"#9fa0a1",color:"#ffffff"}},containedSecondary:{backgroundColor:"#0E1214",color:"#ffffff","&:hover":{backgroundColor:"#112D49"},"&.Mui-disabled":{backgroundColor:"#9fa0a1",color:"#ffffff"}}}},MuiIconButton:{styleOverrides:{colorSecondary:{color:"#0E1214","&.Mui-disabled":{color:"#9fa0a1"}}}}}})},30108:()=>{}};